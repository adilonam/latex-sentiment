<mxfile host="65bd71144e">
    <diagram name="Sentiment Analysis Architecture" id="sentiment-arch">
        <mxGraphModel dx="1231" dy="839" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="user-layer" value="User Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="40" y="10" width="1120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="browser" value="Web Browser&#xa;(User Interface)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="500" y="120" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="gateway-layer" value="API Gateway Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="40" y="220" width="1120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="spring-gateway" value="Spring Cloud Gateway&#xa;(API Gateway &amp; Load Balancer)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="480" y="298" width="320" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-layer" value="Frontend Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="40" y="400" width="280" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="nextjs-frontend" value="Next.js Frontend&#xa;(React SSR/SSG)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="80" y="480" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="auth-layer" value="Authentication Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="360" y="400" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="keycloak" value="Keycloak&#xa;(Identity &amp; Access Management)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="380" y="480" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="backend-layer" value="Backend Services Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="600" y="400" width="560" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="fastapi-backend" value="FastAPI Backend&#xa;(REST API &amp; Business Logic)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
                    <mxGeometry x="640" y="480" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="ml-service" value="ML Sentiment Service&#xa;(cardiffnlp/twitter-xlm-roberta)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="840" y="480" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="scraping-service" value="Web Scraping Service&#xa;(Selenium - Hespress)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce5cd;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="480" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="data-layer" value="Data Storage &amp; Cache Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="40" y="620" width="1120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="postgres" value="PostgreSQL&#xa;(Primary Database)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="310" y="751" width="230" height="73" as="geometry"/>
                </mxCell>
                <mxCell id="redis" value="Redis&#xa;(Cache &amp; Session Store)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="570" y="700" width="250" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="external-layer" value="External Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#6f7780;fontSize=14;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="880" y="620" width="280" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="hespress" value="Hespress.com&#xa;(Data Source)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#6f7780;" parent="1" vertex="1">
                    <mxGeometry x="920" y="700" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="huggingface" value="Hugging Face&#xa;(ML Model Repository)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#6f7780;" parent="1" vertex="1">
                    <mxGeometry x="1060" y="700" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="user-browser" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="user-layer" target="browser" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="browser-gateway" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="browser" target="spring-gateway" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gateway-nextjs" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="spring-gateway" target="nextjs-frontend" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gateway-keycloak" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="spring-gateway" target="keycloak" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gateway-fastapi" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="spring-gateway" target="fastapi-backend" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="fastapi-ml" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="fastapi-backend" target="ml-service" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="fastapi-scraping" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ml-service" target="scraping-service" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="fastapi-postgres" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="fastapi-backend" target="postgres" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="fastapi-redis" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="fastapi-backend" target="redis" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="scraping-hespress" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="scraping-service" target="hespress" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ml-huggingface" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ml-service" target="huggingface" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="keycloak-postgres" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="keycloak" target="postgres" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="label1" value="HTTP Requests" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="540" y="190" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="label2" value="Auth &amp; Authorization" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="380" y="440" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="label3" value="Sentiment Analysis" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="780" y="440" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="label4" value="Web Scraping" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="970" y="440" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="label5" value="Data Persistence" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="320" y="730" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="label6" value="Caching" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="720" y="680" width="60" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="flow-description" value="Architecture Flow:&#xa;1. User accesses web interface through browser&#xa;2. Spring Gateway routes requests to appropriate services&#xa;3. Keycloak handles authentication and authorization&#xa;4. Next.js serves the frontend with SSR/SSG&#xa;5. FastAPI processes business logic and API requests&#xa;6. Selenium scrapes Hespress comments&#xa;7. ML service analyzes sentiment using XLM-RoBERTa&#xa;8. PostgreSQL stores data, Redis caches results&#xa;9. Results displayed to user in real-time" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#666666;align=left;verticalAlign=top;fontSize=10;fontFamily=monospace;" parent="1" vertex="1">
                    <mxGeometry x="60" y="920" width="400" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="tech-stack" value="Technology Stack:&#xa;• Frontend: Next.js (React SSR/SSG)&#xa;• API Gateway: Spring Cloud Gateway&#xa;• Backend: FastAPI (Python)&#xa;• Authentication: Keycloak&#xa;• Database: PostgreSQL&#xa;• Cache: Redis&#xa;• Scraping: Selenium WebDriver&#xa;• ML Model: cardiffnlp/twitter-xlm-roberta-base-sentiment&#xa;• Deployment: Docker/Kubernetes ready" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#6f7780;align=left;verticalAlign=top;fontSize=10;fontFamily=monospace;" parent="1" vertex="1">
                    <mxGeometry x="510" y="920" width="400" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;" vertex="1" parent="1">
                    <mxGeometry x="320" y="755.5" width="48" height="64" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Cache_Redis_Product.svg;" vertex="1" parent="1">
                    <mxGeometry x="575" y="719" width="50" height="42" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/compute/Azure_Spring_Cloud.svg;" vertex="1" parent="1">
                    <mxGeometry x="489" y="300" width="58" height="58" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>